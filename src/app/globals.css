@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* ===== LIGHT THEME ===== */
    --bg-primary: 248 249 252;
    --bg-secondary: 241 243 248;
    --bg-card: 255 255 255;

    --text-primary: 26 26 46;
    --text-secondary: 107 114 128;
    --text-muted: 156 163 175;

    --accent-primary: 16 185 129;
    --accent-secondary: 59 130 246;
    --accent-warning: 245 158 11;
    --accent-danger: 239 68 68;

    --border-subtle: 226 232 240;

    --shadow-soft: 0 4px 24px -4px rgb(0 0 0 / 0.08);
    --shadow-medium: 0 8px 32px -8px rgb(0 0 0 / 0.12);
    --shadow-glow: 0 0 40px rgb(16 185 129 / 0.2);
  }

  .dark {
    /* ===== DARK THEME ===== */
    --bg-primary: 10 10 15;
    --bg-secondary: 18 18 26;
    --bg-card: 24 24 36;

    --text-primary: 255 255 255;
    --text-secondary: 136 136 170;
    --text-muted: 85 85 102;

    --accent-primary: 0 255 136;
    --accent-secondary: 77 159 255;

    --border-subtle: 42 42 58;

    --shadow-soft: 0 4px 24px -4px rgb(0 0 0 / 0.4);
    --shadow-medium: 0 8px 32px -8px rgb(0 0 0 / 0.5);
    --shadow-glow: 0 0 60px rgb(0 255 136 / 0.25);
  }
}

/* ===== GRAIN TEXTURE OVERLAY ===== */
body::before {
  content: '';
  position: fixed;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  opacity: 0.015;
  pointer-events: none;
  z-index: 9999;
}

.dark body::before {
  opacity: 0.03;
}

@layer base {
  html {
    /* Prevent pull-to-refresh on mobile */
    overscroll-behavior: none;
  }
  body {
    background-color: rgb(var(--bg-primary));
    color: rgb(var(--text-primary));
    /* Safe areas for iPhone notch */
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
    padding-bottom: env(safe-area-inset-bottom);
    /* Smooth scrolling */
    -webkit-overflow-scrolling: touch;
    /* Prevent text selection on double tap */
    -webkit-tap-highlight-color: transparent;
  }
}

/* GPU acceleration for animations */
.gpu-accelerate {
  transform: translateZ(0);
  backface-visibility: hidden;
}

/* Reduce motion for accessibility */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
